## **1.** **synchronized**

- **Встроенный механизм** языка Java.
- Захватывает **монитор объекта** (каждый объект имеет свой).
- Работает по принципу: **один вошёл — остальные ждут**.
- Блокировка **несправедливая** (нет гарантии, что поток, который ждёт дольше, получит доступ первым).
- Автоматическое освобождение: монитор освобождается при выходе из блока или метода (включая return и исключения).

✅ Плюсы: простота, встроенность, легко читать код.
❌ Минусы: нет тонкой настройки (нельзя проверить «свободна ли блокировка», нет разных режимов доступа).

---

## **2.** **Lock** **(например,  ReentrantLock)**

Находится в пакете java.util.concurrent.locks.
- Это **более гибкая альтернатива synchronized**.
- Нужно **явно вызывать** lock() и unlock().
- Позволяет:
  - **tryLock()** → попытаться захватить без ожидания (или с таймаутом).
  - **fair lock** → справедливый режим (потоки обслуживаются в порядке очереди).
  - **interruptibly lock** → можно прервать поток, пока он ждёт.
  - Работает с **Condition** (аналог wait/notify, но мощнее).

✅ Плюсы: больше контроля, справедливость, tryLock.
❌ Минусы: сложнее код, есть риск забыть unlock() (часто пишут в finally).

```java
Lock lock = new ReentrantLock();

lock.lock();
try {
    // критическая секция
} finally {
    lock.unlock();
}
```
---

## **3.** **ReadWriteLock (например, ReentrantReadWriteLock)**

- Используется, когда **чтений больше, чем записей**.
- Состоит из двух замков:
  - **readLock** → может быть захвачен **несколькими потоками одновременно**, если никто не пишет.
  - **writeLock** → эксклюзивный (как обычный lock).
  - Когда поток держит writeLock, читатели и другие писатели ждут.

✅ Плюсы: повышает производительность при большом числе чтений.
❌ Минусы: сложнее использовать; при большом числе писателей выгоды мало.

```java
ReadWriteLock rwLock = new ReentrantReadWriteLock();

// Чтение
rwLock.readLock().lock();
try {
    // несколько потоков могут читать одновременно
} finally {
    rwLock.readLock().unlock();
}

// Запись
rwLock.writeLock().lock();
try {
    // только один поток может писать
} finally {
    rwLock.writeLock().unlock();
}
```

## **Краткая таблица сравнения**

| **Характеристика**    | synchronized | Lock **(**ReentrantLock**)** | ReadWriteLock    |
| --------------------- | ------------ | ---------------------------- | ---------------- |
| Простота              | ✅ Простая    | ❌ Сложнее                    | ❌ Сложнее        |
| Автоматический unlock | ✅ Да         | ❌ Нет (нужно вручную)        | ❌ Нет            |
| Справедливость        | ❌ Нет        | ✅ Можно включить             | ✅ Можно включить |
| Условные переменные   | wait/notify  | Condition                    | Condition        |
| Несколько читателей   | ❌ Нет        | ❌ Нет                        | ✅ Да             |
| Гибкость              | ❌ Минимум    | ✅ Высокая                    | ✅ Высокая        |
